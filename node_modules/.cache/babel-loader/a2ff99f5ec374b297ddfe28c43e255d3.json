{"remainingRequest":"/Users/odinndagur/Code/Github/tonleikar/node_modules/babel-loader/lib/index.js!/Users/odinndagur/Code/Github/tonleikar/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/odinndagur/Code/Github/tonleikar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/odinndagur/Code/Github/tonleikar/src/views/ImportSet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/odinndagur/Code/Github/tonleikar/src/views/ImportSet.vue","mtime":1610840684733},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29kaW5uZGFndXIvQ29kZS9HaXRodWIvdG9ubGVpa2FyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gVE9ETzogPHRleHRhcmVhIHYtbW9kZWw9Im1lc3NhZ2UiIHBsYWNlaG9sZGVyPSJhZGQgbXVsdGlwbGUgbGluZXMiPjwvdGV4dGFyZWE+IAovLyDDrSBzdGHDsGlubiBmeXJpciA8aW5wdXQ+IHRpbCBhw7AgZ2V0YSBnZXJ0IG3DtnJnIHNldHQgw60gZWludQppbXBvcnQgU2V0Q2FyZCBmcm9tICIuLi9jb21wb25lbnRzL1NldENhcmQudnVlIjsKdmFyIGFwaUtleSA9ICJBSXphU3lERTdQdFhNNVNTUHlnNVktTnVkS2RCTWNKMFlhc25xRFEiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkltcG9ydFNldCIsCiAgY29tcG9uZW50czogewogICAgU2V0Q2FyZDogU2V0Q2FyZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVybDogIiIsCiAgICAgIHRpdGxlOiAiIiwKICAgICAgc2V0czogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0VmlkSWQ6IGZ1bmN0aW9uIGdldFZpZElkKCkgewogICAgICB2YXIgaWQgPSB0aGlzLnVybC5zcGxpdCgidj0iKVsxXTsKICAgICAgdmFyIGFtcGVyc2FuZFBvc2l0aW9uID0gaWQuaW5kZXhPZigiJiIpOwoKICAgICAgaWYgKGFtcGVyc2FuZFBvc2l0aW9uICE9IC0xKSB7CiAgICAgICAgaWQgPSBpZC5zdWJzdHJpbmcoMCwgYW1wZXJzYW5kUG9zaXRpb24pOwogICAgICB9CgogICAgICByZXR1cm4gaWQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfSwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB2aWRlb0lkLCByZXMsIGRhdGEsIHRpdGxlLCBzcGxpdCwgYXJ0aXN0LCBkYXRlLCB2ZW51ZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB2aWRlb0lkID0gX3RoaXMuZ2V0VmlkSWQ7CiAgICAgICAgICAgICAgICBfdGhpcy51cmwgPSAnJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS95b3V0dWJlL3YzL3ZpZGVvcz9wYXJ0PXNuaXBwZXQmaWQ9IiArIHZpZGVvSWQgKyAiJmtleT0iICsgYXBpS2V5KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdGl0bGUgPSBkYXRhLml0ZW1zWzBdLnNuaXBwZXQudGl0bGU7CiAgICAgICAgICAgICAgICBfdGhpcy50aXRsZSA9IHRpdGxlOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGl0bGUpOwogICAgICAgICAgICAgICAgc3BsaXQgPSB0aXRsZS5zcGxpdCgiICIpOwogICAgICAgICAgICAgICAgYXJ0aXN0ID0gdGl0bGUuc3BsaXQoIkAiKVswXS50cmltKCk7CiAgICAgICAgICAgICAgICBkYXRlID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV0udHJpbSgpOwogICAgICAgICAgICAgICAgdmVudWUgPSB0aXRsZS5zcGxpdCgiQCIpWzFdLnJlcGxhY2UoIkAiLCAiIikucmVwbGFjZShkYXRlLCAiIikudHJpbSgpOwoKICAgICAgICAgICAgICAgIF90aGlzLnNldHMucHVzaCh7CiAgICAgICAgICAgICAgICAgIGFydGlzdDogYXJ0aXN0LAogICAgICAgICAgICAgICAgICB2ZW51ZTogdmVudWUsCiAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGUsCiAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFydGlzdCwgZGF0ZSwgdmVudWUpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVKU09OOiBmdW5jdGlvbiBzYXZlSlNPTigpIHsKICAgICAgdmFyIG9iaiA9IHRoaXMuc2V0czsKICAgICAgdmFyIGRhdGEgPSAidGV4dC9qc29uO2NoYXJzZXQ9dXRmLTgsIiArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvYmopKTsKICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgIGEuaHJlZiA9ICdkYXRhOicgKyBkYXRhOwogICAgICBhLmRvd25sb2FkID0gJ2RhdGEudHh0JzsgLy8gYS5pbm5lckhUTUwgPSAnZG93bmxvYWQgLnR4dCBmaWxlIG9mIGpzb24nOyAKCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKS5hcHBlbmRDaGlsZChhKTsKICAgICAgYS5jbGljaygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ImportSet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"ImportSet\">\n    <h1>Add sets</h1>\n\n    <input v-model=\"url\" v-on:keyup.enter=\"onSubmit\" placeholder=\"url\" />\n    <button @click=\"onSubmit\">Add set</button>\n\n    <button @click=\"saveJSON\">save JSON</button>\n\n    <!--<p>Preview: {{title}}</p>-->\n    <SetCard v-for=\"set in sets\" :set=\"set\" :key=\"set.videoId\" />\n    <!-- <ul>\n      <li v-for=\"set in sets\" :key=\"set.videoId\">\n        {{ set.artist }} @ {{ set.venue }} {{ set.date }}\n      </li>\n    </ul> -->\n  </div>\n</template>\n\n<script>\n// TODO: <textarea v-model=\"message\" placeholder=\"add multiple lines\"></textarea> \n// í staðinn fyrir <input> til að geta gert mörg sett í einu\nimport SetCard from \"../components/SetCard.vue\";\nlet apiKey = \"AIzaSyDE7PtXM5SSPyg5Y-NudKdBMcJ0YasnqDQ\";\n\nexport default {\n  name: \"ImportSet\",\n  components: {\n    SetCard,\n  },\n  data: () => {\n    return {\n      url: \"\",\n      title: \"\",\n      sets: [],\n    };\n  },\n  computed: {\n    getVidId() {\n      let id = this.url.split(\"v=\")[1];\n      var ampersandPosition = id.indexOf(\"&\");\n      if (ampersandPosition != -1) {\n        id = id.substring(0, ampersandPosition);\n      }\n      return id;\n    },\n  },\n  methods: {\n    onSubmit() {\n      this.getData();\n    },\n    async getData() {\n      let videoId = this.getVidId;\n      this.url = '';\n      let res = await fetch(\n        \"https://www.googleapis.com/youtube/v3/videos?part=snippet&id=\" +\n          videoId +\n          \"&key=\" +\n          apiKey\n      );\n      let data = await res.json();\n      let title = data.items[0].snippet.title;\n      this.title = title;\n      console.log(title);\n\n      let split = title.split(\" \");\n      let artist = title.split(\"@\")[0].trim();\n      let date = split[split.length - 1].trim();\n      let venue = title.split(\"@\")[1].replace(\"@\", \"\").replace(date, \"\").trim();\n      this.sets.push({\n        artist,\n        venue,\n        date,\n        videoId,\n      });\n      console.log(artist, date, venue);\n    },\n    saveJSON(){ \n      let obj   = this.sets; \n      let data  = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(obj)); \n \n      let a       = document.createElement('a'); \n      a.href      = 'data:' + data; \n      a.download  = 'data.txt'; \n      // a.innerHTML = 'download .txt file of json'; \n \n      document.getElementById('app').appendChild(a); \n      a.click();\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\ninput {\n  -webkit-user-select: text; /* Chrome, Opera, Safari */\n  -moz-user-select: text; /* Firefox 2+ */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text; /* Standard syntax */\n}\n\nli {\n  list-style-type: none;\n}\n</style>"],"sourceRoot":"src/views"}]}