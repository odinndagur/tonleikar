{"remainingRequest":"/Users/odinndagur/Code/Github/tonleikar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/odinndagur/Code/Github/tonleikar/src/views/ImportSet.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/odinndagur/Code/Github/tonleikar/src/views/ImportSet.vue","mtime":1610840684733},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/odinndagur/Code/Github/tonleikar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNhcHAgewogIGZvbnQtZmFtaWx5OiAiQXZlbmlyIiwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsKICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogIzJjM2U1MDsKICBtYXJnaW4tdG9wOiA2MHB4Owp9CgppbnB1dCB7CiAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dDsgLyogQ2hyb21lLCBPcGVyYSwgU2FmYXJpICovCiAgLW1vei11c2VyLXNlbGVjdDogdGV4dDsgLyogRmlyZWZveCAyKyAqLwogIC1tcy11c2VyLXNlbGVjdDogdGV4dDsgLyogSUUgMTArICovCiAgdXNlci1zZWxlY3Q6IHRleHQ7IC8qIFN0YW5kYXJkIHN5bnRheCAqLwp9CgpsaSB7CiAgbGlzdC1zdHlsZS10eXBlOiBub25lOwp9Cg=="},{"version":3,"sources":["ImportSet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ImportSet.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"ImportSet\">\n    <h1>Add sets</h1>\n\n    <input v-model=\"url\" v-on:keyup.enter=\"onSubmit\" placeholder=\"url\" />\n    <button @click=\"onSubmit\">Add set</button>\n\n    <button @click=\"saveJSON\">save JSON</button>\n\n    <!--<p>Preview: {{title}}</p>-->\n    <SetCard v-for=\"set in sets\" :set=\"set\" :key=\"set.videoId\" />\n    <!-- <ul>\n      <li v-for=\"set in sets\" :key=\"set.videoId\">\n        {{ set.artist }} @ {{ set.venue }} {{ set.date }}\n      </li>\n    </ul> -->\n  </div>\n</template>\n\n<script>\n// TODO: <textarea v-model=\"message\" placeholder=\"add multiple lines\"></textarea> \n// í staðinn fyrir <input> til að geta gert mörg sett í einu\nimport SetCard from \"../components/SetCard.vue\";\nlet apiKey = \"AIzaSyDE7PtXM5SSPyg5Y-NudKdBMcJ0YasnqDQ\";\n\nexport default {\n  name: \"ImportSet\",\n  components: {\n    SetCard,\n  },\n  data: () => {\n    return {\n      url: \"\",\n      title: \"\",\n      sets: [],\n    };\n  },\n  computed: {\n    getVidId() {\n      let id = this.url.split(\"v=\")[1];\n      var ampersandPosition = id.indexOf(\"&\");\n      if (ampersandPosition != -1) {\n        id = id.substring(0, ampersandPosition);\n      }\n      return id;\n    },\n  },\n  methods: {\n    onSubmit() {\n      this.getData();\n    },\n    async getData() {\n      let videoId = this.getVidId;\n      this.url = '';\n      let res = await fetch(\n        \"https://www.googleapis.com/youtube/v3/videos?part=snippet&id=\" +\n          videoId +\n          \"&key=\" +\n          apiKey\n      );\n      let data = await res.json();\n      let title = data.items[0].snippet.title;\n      this.title = title;\n      console.log(title);\n\n      let split = title.split(\" \");\n      let artist = title.split(\"@\")[0].trim();\n      let date = split[split.length - 1].trim();\n      let venue = title.split(\"@\")[1].replace(\"@\", \"\").replace(date, \"\").trim();\n      this.sets.push({\n        artist,\n        venue,\n        date,\n        videoId,\n      });\n      console.log(artist, date, venue);\n    },\n    saveJSON(){ \n      let obj   = this.sets; \n      let data  = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(obj)); \n \n      let a       = document.createElement('a'); \n      a.href      = 'data:' + data; \n      a.download  = 'data.txt'; \n      // a.innerHTML = 'download .txt file of json'; \n \n      document.getElementById('app').appendChild(a); \n      a.click();\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\ninput {\n  -webkit-user-select: text; /* Chrome, Opera, Safari */\n  -moz-user-select: text; /* Firefox 2+ */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text; /* Standard syntax */\n}\n\nli {\n  list-style-type: none;\n}\n</style>"]}]}